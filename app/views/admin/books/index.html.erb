<% provide :title, t(:books_page_title) %>
<div>
  <%= search_form_for @search do |f| %>
    <div class="form-group col-sm-6 form-inline">
      <%= f.label :title_cont, t(".title") %>
      <%= f.text_field :title_cont %>

      <%= f.label :category_id_eq, t(".category") %>
      <%= f.select :category_id_eq,
        options_from_collection_for_select(@categories,
        :id, :name, @search.category_id_eq), {prompt: false},
        {class: "form-control"} %>

    <div class="actions"><%= f.submit %></div>
    </div>
  <% end %>
</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <div class="panel-title">
      <div class="clearfix">
        <div class="pull-right">
          <%= link_to t(:book_index_create_btn), new_admin_book_path,
            class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th><%= sort_link @search, :title, t(".title") %></th>
        <th><%= sort_link @search, :author, t(".author") %></th>
        <th><%= sort_link @search, :publish_date, t(".publish_date") %></th>
        <th><%= sort_link @search, :no_of_pages, t(".no_of_pages") %></th>
        <th><%= sort_link @search, :category, t(".category") %></th>
        <th><%= sort_link @search, :actions, t(".actions") %></th>
      </tr>
      </thead>
      <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= link_to book.title, admin_book_path(book) %></td>
          <td><%= book.author %></td>
          <td><%= book.publish_date %></td>
          <td><%= book.num_of_pages %></td>
          <td><%= book.category.name %></td>
          <td>
            <%= link_to t(:book_index_edit_btn), edit_admin_book_path(book),
              class: "btn btn-xs btn-warning" %>
            <%= link_to t(:book_index_delete_btn), admin_book_path(book),
              method: :delete, data: {confirm: t(:make_sure)},
              class: "btn btn-xs btn-danger" %>
            <%= link_to t(:book_index_review_btn), "#",
              class: "btn btn-xs btn-info" %>
            <%= link_to t(:book_index_favorite_btn), "#",
              class: "btn btn-xs btn-success" %>
            <%= link_to t(:book_index_status_read_btn), "#",
              class: "btn btn-xs btn-default" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>